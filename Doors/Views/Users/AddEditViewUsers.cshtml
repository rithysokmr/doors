
@model Doors.Models.User
@{
    ViewBag.Title = "Create Users";
    Layout = "~/Views/MasterPage.cshtml";
}


<div class="create-user">
    <h6>Create Users</h6>
    @using (Html.BeginForm("AddEditViewUsers", "Users", FormMethod.Post, new { onsubmit = "return SubmitForm(this)" }))
    {
        @Html.HiddenFor(model => model.user_id)
            
        <table>
            <tr>
                <td>Username:</td>
                <td> @Html.EditorFor(model => model.username, new { htmlAttributes = new { @class = "form-control" } }) 
                     @Html.ValidationMessageFor( model => model.username )
                </td>
            </tr>
            <tr>
                <td>Password:</td>
                <td> @Html.EditorFor(model => model.password, new { htmlAttributes = new { @class = "form-control" } }) 
                     @Html.ValidationMessageFor(model => model.password)
                </td>
            </tr>
            <tr>
                <td>Full Name:</td>
                <td> @Html.EditorFor(model => model.fullname, new { htmlAttributes = new { @class = "form-control" } }) </td>
            </tr>
            <tr>
                <td>Sex:</td>
                <td> @Html.EditorFor(model => model.sex, new { htmlAttributes = new { @class = "form-control" } }) </td>
            </tr>
            <tr>
                <td>User Role:</td>
                <td> @Html.EditorFor(model => model.role, new { htmlAttributes = new { @class = "form-control" } }) </td>
            </tr>
            <tr>
                <td>Personal Info:</td>
                <td> @Html.EditorFor(model => model.personal_info, new { htmlAttributes = new { @class = "form-control" } }) </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input type="submit" value="Add User" class="btn btn-primary btn-sm" /> 
                    <input type="reset" value="Cancel" class="btn btn-warning btn-sm" />
                </td>
            </tr>
        </table>
        
    }
</div>

@{
<script>
    function SubmitForm(form) {
        $.validator.unobtrusive.parse(form);
        if ($(form).valid()) {
            $.ajax({
                type: "POST",
                url: form.action,
                data: $(form).serialize(),
                success: function (data) {
                    if (data.success) {
                        $.notify(data.message, {
                            globalPosition: "Top Center",
                            className : "success"
                        });
                    }
                }
            });
        }
        return false;
    }
</script>
}